<!doctype html>
<html class="default no-js" lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Webview | VS Code API</title>
	<meta name="description" content="VS Code API is a set of JavaScript APIs that you can invoke in your Visual Studio Code extension. This page lists all VS Code APIs available to extension authors.">
	<meta name="author" content="紫升">
	<meta name="copyright" content="紫升">
	<meta property="og:title" content="VS Code API" />
	<meta property="og:type" content="docs">
	<meta property="og:image" content="https://code.visualstudio.com/favicon.ico" />
	<meta property="og:url" content="https://vscode-api.js.org/index.html">
	<meta property="og:site_name" content="VS Code API">
	<meta property="og:description" content="VS Code API is a set of JavaScript APIs that you can invoke in your Visual Studio Code extension. This page lists all VS Code APIs available to extension authors.">
	<meta property="article:tag" content="vscode">
	<meta property="article:tag" content="vscode api">
	<meta property="article:tag" content="VS Code API">
	<meta property="article:tag" content="VS Code Extension API">
	<meta property="article:tag" content="vscode VS Code API">
	<meta property="article:tag" content="vscode Webview">
	<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
	<link rel="shortcut icon" href="https://code.visualstudio.com/favicon.ico" sizes="128x128">
	<link rel='canonical' href='https://vscode-api.js.org/interfaces/vscode.Webview.html' />
	<link rel="stylesheet" href="../assets/css/main.css">
	<script async src="../assets/js/search.js" id="search-script"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7962287588031867" crossorigin="anonymous"></script>
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-4D7WZ6E85W"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'G-4D7WZ6E85W');
	</script>
	<style>
        .github-corner svg {
            z-index: 1;
        }
        .github-corner:hover .octo-arm {
            animation:octocat-wave 560ms ease-in-out
        }
        @keyframes octocat-wave {
            0%,100%{transform:rotate(0)}
            20%,60%{transform:rotate(-25deg)}
            40%,80%{transform:rotate(10deg)}
        }
        @media (max-width:500px) {
            .github-corner:hover
            .octo-arm{animation:none}
            .github-corner .octo-arm{
                animation:octocat-wave 560ms ease-in-out
            }
        }
        .container-main {
            padding-bottom: 50px;
        }
    </style>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="../assets/js/search.json" data-base="..">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="../index.html" class="title">VS Code API</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="../modules.html">VS Code API</a>
				</li>
				<li>
					<a href="../modules/vscode.html">vscode</a>
				</li>
				<li>
					<a href="vscode.Webview.html">Webview</a>
				</li>
			</ul>
			<h1>Interface Webview</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<!-- vscode_top -->
			<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7962287588031867" data-ad-slot="4865807776"
			data-ad-format="auto" data-full-width-responsive="true"></ins>
			<script>
				(adsbygoogle = window.adsbygoogle || []).push({});
			</script>
			<section class="tsd-panel tsd-comment">
				<div class="tsd-comment tsd-typography">
					<div class="lead">
						<p>Displays html content, similarly to an iframe.</p>
					</div>
				</div>
			</section>
			<section class="tsd-panel tsd-hierarchy">
				<h3>Hierarchy</h3>
				<ul class="tsd-hierarchy">
					<li>
						<span class="target">Webview</span>
					</li>
				</ul>
			</section>
			<section class="tsd-panel-group tsd-index-group">
				<h2>Index</h2>
				<section class="tsd-panel tsd-index-panel">
					<div class="tsd-index-content">
						<section class="tsd-index-section ">
							<h3>Properties（4）</h3>
							<ul class="tsd-index-list">
								<li class="tsd-kind-property tsd-parent-kind-interface"><a href="vscode.Webview.html#options" class="tsd-kind-icon">options</a></li>
								<li class="tsd-kind-property tsd-parent-kind-interface"><a href="vscode.Webview.html#html" class="tsd-kind-icon">html</a></li>
								<li class="tsd-kind-property tsd-parent-kind-interface"><a href="vscode.Webview.html#onDidReceiveMessage" class="tsd-kind-icon">on<wbr>Did<wbr>Receive<wbr>Message</a></li>
								<li class="tsd-kind-property tsd-parent-kind-interface"><a href="vscode.Webview.html#cspSource" class="tsd-kind-icon">csp<wbr>Source</a></li>
							</ul>
						</section>
						<section class="tsd-index-section ">
							<h3>Methods（2）</h3>
							<ul class="tsd-index-list">
								<li class="tsd-kind-method tsd-parent-kind-interface"><a href="vscode.Webview.html#postMessage" class="tsd-kind-icon">post<wbr>Message</a></li>
								<li class="tsd-kind-method tsd-parent-kind-interface"><a href="vscode.Webview.html#asWebviewUri" class="tsd-kind-icon">as<wbr>Webview<wbr>Uri</a></li>
							</ul>
						</section>
					</div>
				</section>
			</section>
			<section class="tsd-panel-group tsd-member-group ">
				<h2>Properties（4）</h2>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface">
					<a name="options" class="tsd-anchor"></a>
					<h3>options</h3>
					<div class="tsd-signature tsd-kind-icon">options<span class="tsd-signature-symbol">:</span> <a href="vscode.WebviewOptions.html" class="tsd-signature-type" data-tsd-kind="Interface">WebviewOptions</a></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/youngjuning/vscode-api.js.org/blob/97211db/vscode.d.ts#L9217">vscode.d.ts:9217</a></li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>Content settings for the webview.</p>
						</div>
					</div>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface">
					<a name="html" class="tsd-anchor"></a>
					<h3>html</h3>
					<div class="tsd-signature tsd-kind-icon">html<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/youngjuning/vscode-api.js.org/blob/97211db/vscode.d.ts#L9244">vscode.d.ts:9244</a></li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>HTML contents of the webview.</p>
						</div>
						<p>This should be a complete, valid html document. Changing this property causes the webview to be reloaded.</p>
						<p>Webviews are sandboxed from normal extension process, so all communication with the webview must use
							message passing. To send a message from the extension to the webview, use <a href="vscode.Webview.html#postMessage"><code>postMessage</code></a>.
							To send message from the webview back to an extension, use the <code>acquireVsCodeApi</code> function inside the webview
						to get a handle to the editor&#39;s api and then call <code>.postMessage()</code>:</p>
						<pre><code class="language-html"><span style="color: #800000">&lt;script&gt;</span>
<span style="color: #000000FF">    </span><span style="color: #0000FF">const</span><span style="color: #000000FF"> </span><span style="color: #0070C1">vscode</span><span style="color: #000000FF"> </span><span style="color: #000000">=</span><span style="color: #000000FF"> </span><span style="color: #795E26">acquireVsCodeApi</span><span style="color: #000000FF">(); </span><span style="color: #008000">// acquireVsCodeApi can only be invoked once</span>
<span style="color: #000000FF">    </span><span style="color: #001080">vscode</span><span style="color: #000000FF">.</span><span style="color: #795E26">postMessage</span><span style="color: #000000FF">({ </span><span style="color: #001080">message:</span><span style="color: #000000FF"> </span><span style="color: #A31515">&#039;hello!&#039;</span><span style="color: #000000FF"> });</span>
<span style="color: #800000">&lt;/script&gt;</span>
</code></pre>
						<p>To load a resources from the workspace inside a webview, use the <a href="vscode.Webview.html#asWebviewUri"><code>asWebviewUri</code></a> method
						and ensure the resource&#39;s directory is listed in <a href="vscode.WebviewOptions.html#localResourceRoots"><code>WebviewOptions.localResourceRoots</code></a>.</p>
						<p>Keep in mind that even though webviews are sandboxed, they still allow running scripts and loading arbitrary content,
							so extensions must follow all standard web security best practices when working with webviews. This includes
							properly sanitizing all untrusted input (including content from the workspace) and
						setting a <a href="https://aka.ms/vscode-api-webview-csp">content security policy</a>.</p>
					</div>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface">
					<a name="onDidReceiveMessage" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagReadonly">Readonly</span> on<wbr>Did<wbr>Receive<wbr>Message</h3>
					<div class="tsd-signature tsd-kind-icon">on<wbr>Did<wbr>Receive<wbr>Message<span class="tsd-signature-symbol">:</span> <a href="vscode.Event.html" class="tsd-signature-type" data-tsd-kind="Interface">Event</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/youngjuning/vscode-api.js.org/blob/97211db/vscode.d.ts#L9253">vscode.d.ts:9253</a></li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>Fired when the webview content posts a message.</p>
						</div>
						<p>Webview content can post strings or json serializable objects back to an extension. They cannot
							post <code>Blob</code>, <code>File</code>, <code>ImageData</code> and other DOM specific objects since the extension that receives the
						message does not run in a browser environment.</p>
					</div>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface">
					<a name="cspSource" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagReadonly">Readonly</span> csp<wbr>Source</h3>
					<div class="tsd-signature tsd-kind-icon">csp<wbr>Source<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/youngjuning/vscode-api.js.org/blob/97211db/vscode.d.ts#L9310">vscode.d.ts:9310</a></li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>Content security policy source for webview resources.</p>
						</div>
						<p>This is the origin that should be used in a content security policy rule:</p>
						<pre><code class="language-ts"><span style="color: #A31515">`img-src https: </span><span style="color: #0000FF">${</span><span style="color: #001080">webview</span><span style="color: #000000FF">.</span><span style="color: #001080">cspSource</span><span style="color: #0000FF">}</span><span style="color: #A31515"> ...;`</span>
</code></pre>
					</div>
				</section>
			</section>
			<section class="tsd-panel-group tsd-member-group ">
				<h2>Methods（2）</h2>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface">
					<a name="postMessage" class="tsd-anchor"></a>
					<h3>post<wbr>Message</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface">
						<li class="tsd-signature tsd-kind-icon">post<wbr>Message<span class="tsd-signature-symbol">(</span>message<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Thenable.html" class="tsd-signature-type" data-tsd-kind="Interface">Thenable</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/youngjuning/vscode-api.js.org/blob/97211db/vscode.d.ts#L9286">vscode.d.ts:9286</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Post a message to the webview content.</p>
								</div>
								<p>Messages are only delivered if the webview is live (either visible or in the
								background with <code>retainContextWhenHidden</code>).</p>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>message: <span class="tsd-signature-type">any</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>Body of the message. This must be a string or other json serializable object.</p>
										<p>  For older versions of vscode, if an <code>ArrayBuffer</code> is included in <code>message</code>,
											it will not be serialized properly and will not be received by the webview.
											Similarly any TypedArrays, such as a <code>Uint8Array</code>, will be very inefficiently
										serialized and will also not be recreated as a typed array inside the webview.</p>
										<p>  However if your extension targets vscode 1.57+ in the <code>engines</code> field of its
											<code>package.json</code>, any <code>ArrayBuffer</code> values that appear in <code>message</code> will be more
											efficiently transferred to the webview and will also be correctly recreated inside
										of the webview.</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <a href="Thenable.html" class="tsd-signature-type" data-tsd-kind="Interface">Thenable</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>A promise that resolves when the message is posted to a webview or when it is
							dropped because the message was not deliverable.</p>
							<p>  Returns <code>true</code> if the message was posted to the webview. Messages can only be posted to
							live webviews (i.e. either visible webviews or hidden webviews that set <code>retainContextWhenHidden</code>).</p>
							<p>  A response of <code>true</code> does not mean that the message was actually received by the webview.
								For example, no message listeners may be have been hooked up inside the webview or the webview may
							have been destroyed after the message was posted but before it was received.</p>
							<p>  If you want confirm that a message as actually received, you can try having your webview posting a
							confirmation message back to your extension.</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface">
					<a name="asWebviewUri" class="tsd-anchor"></a>
					<h3>as<wbr>Webview<wbr>Uri</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface">
						<li class="tsd-signature tsd-kind-icon">as<wbr>Webview<wbr>Uri<span class="tsd-signature-symbol">(</span>localResource<span class="tsd-signature-symbol">: </span><a href="../classes/vscode.Uri.html" class="tsd-signature-type" data-tsd-kind="Class">Uri</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../classes/vscode.Uri.html" class="tsd-signature-type" data-tsd-kind="Class">Uri</a></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/youngjuning/vscode-api.js.org/blob/97211db/vscode.d.ts#L9299">vscode.d.ts:9299</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Convert a uri for the local file system to one that can be used inside webviews.</p>
								</div>
								<p>Webviews cannot directly load resources from the workspace or local file system using <code>file:</code> uris. The
									<code>asWebviewUri</code> function takes a local <code>file:</code> uri and converts it into a uri that can be used inside of
								a webview to load the same resource:</p>
								<pre><code class="language-ts"><span style="color: #001080">webview</span><span style="color: #000000">.</span><span style="color: #001080">html</span><span style="color: #000000"> = </span><span style="color: #A31515">`&lt;img src=&quot;</span><span style="color: #0000FF">${</span><span style="color: #001080">webview</span><span style="color: #000000FF">.</span><span style="color: #795E26">asWebviewUri</span><span style="color: #000000FF">(</span><span style="color: #001080">vscode</span><span style="color: #000000FF">.</span><span style="color: #001080">Uri</span><span style="color: #000000FF">.</span><span style="color: #795E26">file</span><span style="color: #000000FF">(</span><span style="color: #A31515">&#039;/Users/codey/workspace/cat.gif&#039;</span><span style="color: #000000FF">))</span><span style="color: #0000FF">}</span><span style="color: #A31515">&quot;&gt;`</span>
</code></pre>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>localResource: <a href="../classes/vscode.Uri.html" class="tsd-signature-type" data-tsd-kind="Class">Uri</a></h5>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <a href="../classes/vscode.Uri.html" class="tsd-signature-type" data-tsd-kind="Class">Uri</a></h4>
						</li>
					</ul>
				</section>
			</section>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="../modules.html">Exports</a>
					</li>
					<li class="current tsd-kind-namespace">
						<a href="../modules/vscode.html">vscode</a>
						<ul>
							<li class=" tsd-kind-namespace tsd-parent-kind-namespace">
								<a href="../modules/vscode.authentication.html">authentication</a>
							</li>
							<li class=" tsd-kind-namespace tsd-parent-kind-namespace">
								<a href="../modules/vscode.commands.html">commands</a>
							</li>
							<li class=" tsd-kind-namespace tsd-parent-kind-namespace">
								<a href="../modules/vscode.comments.html">comments</a>
							</li>
							<li class=" tsd-kind-namespace tsd-parent-kind-namespace">
								<a href="../modules/vscode.debug.html">debug</a>
							</li>
							<li class=" tsd-kind-namespace tsd-parent-kind-namespace">
								<a href="../modules/vscode.env.html">env</a>
							</li>
							<li class=" tsd-kind-namespace tsd-parent-kind-namespace">
								<a href="../modules/vscode.extensions.html">extensions</a>
							</li>
							<li class=" tsd-kind-namespace tsd-parent-kind-namespace">
								<a href="../modules/vscode.l10n.html">l10n</a>
							</li>
							<li class=" tsd-kind-namespace tsd-parent-kind-namespace">
								<a href="../modules/vscode.languages.html">languages</a>
							</li>
							<li class=" tsd-kind-namespace tsd-parent-kind-namespace">
								<a href="../modules/vscode.notebooks.html">notebooks</a>
							</li>
							<li class=" tsd-kind-namespace tsd-parent-kind-namespace">
								<a href="../modules/vscode.scm.html">scm</a>
							</li>
							<li class=" tsd-kind-namespace tsd-parent-kind-namespace">
								<a href="../modules/vscode.tasks.html">tasks</a>
							</li>
							<li class=" tsd-kind-namespace tsd-parent-kind-namespace">
								<a href="../modules/vscode.tests.html">tests</a>
							</li>
							<li class=" tsd-kind-namespace tsd-parent-kind-namespace">
								<a href="../modules/vscode.window.html">window</a>
							</li>
							<li class=" tsd-kind-namespace tsd-parent-kind-namespace">
								<a href="../modules/vscode.workspace.html">workspace</a>
							</li>
						</ul>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<div style="width: 200px">
					<script async type="text/javascript" id="clstr_globe" src="//clustrmaps.com/globe.js?d=20n70IgpPDEMELLyVCjUTuTRYgLhQqp4q_mFxFrmw_0"></script>
				</div>
				<ul class="before-current">
				</ul>
				<ul class="current">
					<li class="current tsd-kind-interface tsd-parent-kind-namespace">
						<a href="vscode.Webview.html" class="tsd-kind-icon">Webview</a>
						<ul>
							<li class=" tsd-kind-property tsd-parent-kind-interface">
								<a href="vscode.Webview.html#options" class="tsd-kind-icon">options</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-interface">
								<a href="vscode.Webview.html#html" class="tsd-kind-icon">html</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-interface">
								<a href="vscode.Webview.html#onDidReceiveMessage" class="tsd-kind-icon">on<wbr>Did<wbr>Receive<wbr>Message</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-interface">
								<a href="vscode.Webview.html#postMessage" class="tsd-kind-icon">post<wbr>Message</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-interface">
								<a href="vscode.Webview.html#asWebviewUri" class="tsd-kind-icon">as<wbr>Webview<wbr>Uri</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-interface">
								<a href="vscode.Webview.html#cspSource" class="tsd-kind-icon">csp<wbr>Source</a>
							</li>
						</ul>
					</li>
				</ul>
				<ul class="after-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated by <a href="https://typedoc.org/" target="_blank">TypeDoc</a>. Maintained by <a href="https://youngjuning.js.org" target="_blank">紫升</a></p>
	<p>Links: <a href="https://didi.seowhy.com">搜外友链</a>, <a href="http://www.httsmvk.com">69中文网</a></p>
</div>
<div class="overlay"></div>
<script src="../assets/js/main.js"></script>
</body>
</html>